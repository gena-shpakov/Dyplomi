<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>DYPLOMI SPA</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,300;1,14..32,300&display=swap" rel="stylesheet">
    <script type="module" crossorigin>(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const l of e.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function o(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function c(t){if(t.ep)return;t.ep=!0;const e=o(t);fetch(t.href,e)}})();const u=`<div class="cotainer">\r
  <h1 class="title">Розклад викладача</h1>\r
\r
  <p id="lecturerName" style="font-size: 18px; margin-bottom: 20px"></p>\r
\r
  <div class="days-menu">\r
    <button class="day-button" data-day="Понеділок">Понеділок</button>\r
    <button class="day-button" data-day="Вівторок">Вівторок</button>\r
    <button class="day-button" data-day="Середа">Середа</button>\r
    <button class="day-button" data-day="Четвер">Четвер</button>\r
    <button class="day-button" data-day="П'ятниця">П'ятниця</button>\r
  </div>\r
\r
  <button id="loadSchedule">Показати розклад</button>\r
\r
  <table id="scheduleTable">\r
    <thead>\r
      <tr>\r
        <th>День</th>\r
        <th>Група</th>\r
        <th>№</th>\r
        <th>Предмет</th>\r
        <th>Аудиторія</th>\r
        <th>Час</th>\r
      </tr>\r
    </thead>\r
    <tbody></tbody>\r
  </table>\r
\r
  <button data-page="lecturer_login">Назад</button>\r
</div>\r
`,g=`<div class="container">\r
  <h1>Вхід для викладача</h1>\r
\r
  <form id="lecturerLoginForm" class="login-form">\r
    <label for="teacherSelect">Оберіть викладача:</label>\r
    <select id="teacherSelect"></select>\r
\r
    <div class="button-row">\r
      <button data-page="main">Назад</button>\r
      <button type="submit">Увійти</button>\r
    </div>\r
\r
    <div class="error" id="errorMsg"></div>\r
  </form>\r
</div>\r
`,m=`<h1>Розклад</h1>\r
\r
<div class="menu">\r
  <button data-page="student_login">Студенту</button>\r
  <button data-page="lecturer_login">Викладачу</button>\r
</div>\r
`,p=`<div class="container">\r
  <h1>Розклад</h1>\r
\r
  <select id="daySelect">\r
    <option value="Понеділок">Понеділок</option>\r
    <option value="Вівторок">Вівторок</option>\r
    <option value="Середа">Середа</option>\r
    <option value="Четвер">Четвер</option>\r
    <option value="Пʼятниця">Пʼятниця</option>\r
  </select>\r
\r
  <button id="loadSchedule">Показати розклад</button>\r
\r
  <table id="scheduleTable">\r
    <thead>\r
      <tr>\r
        <th>№</th>\r
        <th>Предмет</th>\r
        <th>Викладач</th>\r
        <th>Аудиторія</th>\r
        <th>Час</th>\r
      </tr>\r
    </thead>\r
    <tbody></tbody>\r
  </table>\r
\r
  <button data-page="student_login">Назад</button>\r
</div>\r
`,h=`<div class="container">\r
  <h1>Вхід для студента</h1>\r
\r
  <form id="studentLoginForm" class="login-form">\r
    <label for="groupSelect">Оберіть групу:</label>\r
    <select id="groupSelect"></select>\r
\r
    <div class="button-row">\r
      <button data-page="main">Назад</button>\r
      <button type="submit">Увійти</button>\r
    </div>  \r
\r
      <div class="error" id="errorMsg"></div>\r
  </form>\r
  \r
</div>\r
`;function b(){const n=localStorage.getItem("teacher");document.getElementById("lecturerName").textContent=n?`Викладач: ${n}`:"Викладач не вказаний";const r=document.getElementById("scheduleTable"),o=r.querySelector("tbody");document.querySelector('[data-page="lecturer_login"]').addEventListener("click",()=>render("lecturer_login")),document.querySelectorAll(".day-button").forEach(t=>{t.addEventListener("click",()=>{const e=t.dataset.day;if(!n){alert("Викладач не вказаний.");return}google.script.run.withSuccessHandler(l=>{o.innerHTML="",!l||l.length===0?o.innerHTML='<tr><td colspan="6">Розклад відсутній</td></tr>':l.forEach(d=>{const s=document.createElement("tr");s.innerHTML=`
                <td>${d.day}</td>
                <td class="group-cell">${d.group}</td>
                <td>${d.number}</td>
                <td class="subject-cell">${d.subject}</td>
                <td>${d.room}</td>
                <td class="time-cell">${d.time}</td>
              `,o.appendChild(s)}),r.style.display="table"}).withFailureHandler(l=>{alert("Помилка при завантаженні розкладу: "+l.message)}).getScheduleForTeacherAndDay(n,e)})})}function y(){const n=document.getElementById("lecturerLoginForm"),r=document.getElementById("teacherSelect"),o=document.getElementById("errorMsg");document.querySelector('[data-page="main"]').addEventListener("click",()=>render("main")),google.script.run.withSuccessHandler(c=>{r.innerHTML="",c.teachers.forEach(t=>{const e=document.createElement("option");e.value=t,e.textContent=t,r.appendChild(e)})}).getLoginOptions(),n.addEventListener("submit",c=>{c.preventDefault();const t=r.value;if(!t){o.textContent="Будь ласка, оберіть викладача.";return}localStorage.setItem("teacher",t),render("lecturer")})}function _(){document.querySelectorAll("[data-page]").forEach(n=>{n.addEventListener("click",()=>{const r=n.getAttribute("data-page");window.render(r)})})}function f(){const n=document.getElementById("loadSchedule"),r=document.getElementById("daySelect"),o=document.getElementById("scheduleTable"),c=o.querySelector("tbody");document.querySelector('[data-page="student_login"]').addEventListener("click",()=>render("student_login")),n.addEventListener("click",()=>{const t=r.value,e=localStorage.getItem("group");if(!e){alert("Група не вказана. Перейдіть назад на логін."),render("student_login");return}google.script.run.withSuccessHandler(l=>{c.innerHTML="",!l||l.length===0?c.innerHTML='<tr><td colspan="5">Розклад не знайдено</td></tr>':l.forEach(d=>{const s=document.createElement("tr");s.innerHTML=`
              <td>${d.number}</td>
              <td>${d.subject}</td>
              <td>${d.teacher}</td>
              <td>${d.room}</td>
              <td>${d.time}</td>
            `,c.appendChild(s)}),o.style.display="table"}).withFailureHandler(l=>{alert("Помилка при завантаженні: "+l.message)}).getScheduleForGroupAndDay(e,t)})}function v(){const n=document.getElementById("studentLoginForm"),r=document.getElementById("groupSelect"),o=document.getElementById("errorMsg");document.querySelector('[data-page="main"]').addEventListener("click",()=>render("main")),google.script.run.withSuccessHandler(c=>{r.innerHTML="",c.groups.forEach(t=>{const e=document.createElement("option");e.value=t,e.textContent=t,r.appendChild(e)})}).getLoginOptions(),n.addEventListener("submit",c=>{c.preventDefault();const t=r.value;if(!t){o.textContent="Будь ласка, оберіть групу.";return}localStorage.setItem("group",t),render("student")})}const a=Object.assign({"./pages/lecturer.html":u,"./pages/lecturer_login.html":g,"./pages/main.html":m,"./pages/student.html":p,"./pages/student_login.html":h}),S=Object.assign({"./scripts/lecturer.js":b,"./scripts/lecturer_login.js":y,"./scripts/main.js":_,"./scripts/student.js":f,"./scripts/student_login.js":v}),i={};for(const n in a){const r=n.split("/").pop().replace(".html","");i[r]=a[n]}window.render=function(n){const r=i[n]||"<h1>404 Not Found</h1>";document.getElementById("app").innerHTML=r,localStorage.setItem("currentPage",n);const o=S[`./scripts/${n}.js`];typeof o=="function"&&o()};window.addEventListener("DOMContentLoaded",()=>{const n=localStorage.getItem("currentPage")||"main";render(n)});</script>
    <style rel="stylesheet" crossorigin>html{box-sizing:border-box}*,*:before,*:after{margin:0;padding:0;box-sizing:inherit}body{font-family:Inter,sans-serif;font-weight:300;background-color:#fce4c3;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh}h1{font-size:55px;margin-bottom:200px;letter-spacing:5px}.menu{display:flex;flex-direction:row;align-items:center;gap:15px;margin-top:10px}button{background-color:#a64b2a;color:#fff;padding:10px 20px;font-size:25px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s,transform .2s;width:auto;align-self:center}button:hover{background-color:#8a3a1a}button:active{transform:scale(.95)}.button-inactive{background-color:#c9b8aa;color:#fff;border:none;padding:15px 30px;border-radius:8px;font-size:20px;cursor:not-allowed;opacity:.6}.login-form{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}form{display:flex;flex-direction:column;gap:15px;width:250px;max-width:90%}label{font-size:20px;margin-bottom:-10px;color:#333;text-align:left}select{border:none;border-bottom:1px solid #333;background:none;font-size:25px;padding:10px 5px;outline:none;width:100%;color:#333;appearance:none;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-webkit-appearance:none;-moz-appearance:none;cursor:pointer;background-image:url("data:image/svg+xml;utf8,<svg fill='black' height='20' viewBox='0 0 24 24' width='20' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>");background-repeat:no-repeat;background-position:right 10px center;background-size:16px 16px}input{border:none;border-bottom:1px solid #333;background:none;font-size:25px;padding:10px 5px;outline:none;width:100%}input::placeholder{color:#666;font-size:20px}.button-row{display:flex;justify-content:center;gap:60px;width:100%;margin-top:20px}#scheduleTable{width:400px;margin:20px auto;border-collapse:collapse;color:#000}#scheduleTable th,#scheduleTable td{border:1px solid #ccc;padding:10px;text-align:center;vertical-align:middle;font-weight:700}#scheduleTable th{background-color:#ddd}#scheduleTable td.group-cell{font-weight:700;font-size:20px;color:#000}#scheduleTable td.subject-cell{font-size:18px;color:#000}#schdileTable td.subject-cell .teacher-room{font-size:14px;color:#000;margin-top:5px}#scheduleTable td.time-cell{font-size:16px;color:#000}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
