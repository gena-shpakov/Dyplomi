<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>DYPLOMI SPA</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,300;1,14..32,300&display=swap" rel="stylesheet">
    <script type="module" crossorigin>(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();const b=`<div class="cotainer">\r
  <h1 class="title">Розклад викладача</h1>\r
\r
  <p id="lecturerName" style="font-size: 18px; margin-bottom: 20px"></p>\r
\r
  <div class="days-menu">\r
    <button class="day-button" data-day="Понеділок">Понеділок</button>\r
    <button class="day-button" data-day="Вівторок">Вівторок</button>\r
    <button class="day-button" data-day="Середа">Середа</button>\r
    <button class="day-button" data-day="Четвер">Четвер</button>\r
    <button class="day-button" data-day="П'ятниця">П'ятниця</button>\r
  </div>\r
\r
  \r
\r
  <table id="scheduleTable">\r
    <thead>\r
      <tr>\r
        <th>День</th>\r
        <th>Група</th>\r
        <th>№</th>\r
        <th>Предмет</th>\r
        <th>Аудиторія</th>\r
        <th>Час</th>\r
      </tr>\r
    </thead>\r
    <tbody></tbody>\r
  </table>\r
\r
  <div class="button-row">\r
    <button data-page="lecturer_login">Назад</button>\r
    <button id="loadSchedule">Показати розклад</button>\r
  </div>\r
\r
</div>\r
`,p=`<div class="container">\r
  <h1>Вхід для викладача</h1>\r
\r
  <form id="lecturerLoginForm" class="login-form">\r
    <label for="teacherSelect">Оберіть викладача:</label>\r
    <select id="teacherSelect"></select>\r
\r
    <div class="button-row">\r
      <button data-page="main">Назад</button>\r
      <button type="submit">Увійти</button>\r
    </div>\r
\r
    <div class="error" id="errorMsg"></div>\r
  </form>\r
</div>\r
`,h=`<h1>Розклад</h1>\r
\r
<div class="menu">\r
  <button data-page="student_login">Студенту</button>\r
  <button data-page="lecturer_login">Викладачу</button>\r
</div>\r
`,y=`<div class="container">\r
  <h1>Розклад</h1>\r
\r
  <p id="groupName" style="font-size: 18px; margin-bottom: 20px;"></p>\r
\r
\r
  <div class="days-menu">\r
    <button class="day-button" data-day="Понеділок">Понеділок</button>\r
    <button class="day-button" data-day="Вівторок">Вівторок</button>\r
    <button class="day-button" data-day="Середа">Середа</button>\r
    <button class="day-button" data-day="Четвер">Четвер</button>\r
    <button class="day-button" data-day="П'ятниця">П'ятниця</button>\r
  </div>  \r
\r
  \r
\r
  <table id="scheduleTable">\r
    <thead>\r
      <tr>\r
        <th>№</th>\r
        <th>Предмет</th>\r
        <th>Викладач</th>\r
        <th>Аудиторія</th>\r
        <th>Час</th>\r
      </tr>\r
    </thead>\r
    <tbody></tbody>\r
  </table>\r
  <div class="button-row">\r
    <button data-page="student_login">Назад</button>\r
    <button id="loadSchedule">Показати розклад</button>\r
  </div>\r
</div>\r
`,f=`<div class="container">\r
  <h1>Вхід для студента</h1>\r
\r
  <form id="studentLoginForm" class="login-form">\r
    <label for="groupSelect">Оберіть групу:</label>\r
    <select id="groupSelect"></select>\r
\r
    <div class="button-row">\r
      <button data-page="main">Назад</button>\r
      <button type="submit">Увійти</button>\r
    </div>  \r
\r
      <div class="error" id="errorMsg"></div>\r
  </form>\r
  \r
</div>\r
`;function _(){const e=localStorage.getItem("teacher");document.getElementById("lecturerName").textContent=e?`Викладач: ${e}`:"Викладач не вказаний";const n=document.getElementById("scheduleTable"),o=n.querySelector("tbody");document.querySelector('[data-page="lecturer_login"]').addEventListener("click",()=>render("lecturer_login"));const a=document.querySelectorAll(".day-button"),t=new Date().getDay(),r=t===0?7:t;a.forEach(s=>{parseInt(s.dataset.day)===r&&s.classList.add("active"),s.addEventListener("click",()=>{a.forEach(d=>d.classList.remove("active")),s.classList.add("active");const i=s.textContent.trim();if(!e){alert("Викладач не вказаний.");return}google.script.run.withSuccessHandler(d=>{o.innerHTML="",!d||d.length===0?o.innerHTML='<tr><td colspan="6">Розклад відсутній</td></tr>':d.forEach(c=>{const l=document.createElement("tr");l.innerHTML=`
                <td>${c.day}</td>
                <td class="group-cell">${c.group}</td>
                <td>${c.number}</td>
                <td class="subject-cell">${c.subject}</td>
                <td>${c.room}</td>
                <td class="time-cell">${c.time}</td>
              `,o.appendChild(l)}),n.style.display="table"}).withFailureHandler(d=>{alert("Помилка при завантаженні розкладу: "+d.message)}).getScheduleForTeacherAndDay(e,i)})})}function v(){const e=document.getElementById("lecturerLoginForm"),n=document.getElementById("teacherSelect"),o=document.getElementById("errorMsg");document.querySelector('[data-page="main"]').addEventListener("click",()=>render("main")),google.script.run.withSuccessHandler(a=>{n.innerHTML="",a.teachers.forEach(t=>{const r=document.createElement("option");r.value=t,r.textContent=t,n.appendChild(r)})}).getLoginOptions(),e.addEventListener("submit",a=>{a.preventDefault();const t=n.value;if(!t){o.textContent="Будь ласка, оберіть викладача.";return}localStorage.setItem("teacher",t),render("lecturer")})}function L(){document.querySelectorAll("[data-page]").forEach(e=>{e.addEventListener("click",()=>{const n=e.getAttribute("data-page");window.render(n)})})}function E(){const e=localStorage.getItem("group");document.getElementById("groupName").textContent=e?`Група: ${e}`:"Група не вказана";const n=document.getElementById("scheduleTable"),o=n.querySelector("tbody");document.querySelector('[data-page="student_login"]').addEventListener("click",()=>render("student_login"));const a=document.querySelectorAll(".day-button"),t=new Date().getDay(),r=t===0?7:t;a.forEach(s=>{parseInt(s.dataset.day)===r&&s.classList.add("active"),s.addEventListener("click",()=>{a.forEach(c=>c.classList.remove("active")),s.classList.add("active");const i=s.textContent.trim(),d=localStorage.getItem("group");if(!d){alert("Група не вказана. Перейдіть назад на логін."),render("student_login");return}google.script.run.withSuccessHandler(c=>{o.innerHTML="",!c||c.length===0?o.innerHTML='<tr><td colspan="5">Розклад не знайдено</td></tr>':c.forEach(l=>{const u=document.createElement("tr");u.innerHTML=`
                <td>${l.number}</td>
                <td class="subject-cell">${l.subject}</td>
                <td>${l.teacher}</td>
                <td>${l.room}</td>
                <td class="time-cell">${l.time}</td>
              `,o.appendChild(u)}),n.style.display="table"}).withFailureHandler(c=>{alert("Помилка при завантаженні: "+c.message)}).getScheduleForGroupAndDay(d,i)})})}function S(){const e=document.getElementById("studentLoginForm"),n=document.getElementById("groupSelect"),o=document.getElementById("errorMsg");document.querySelector('[data-page="main"]').addEventListener("click",()=>render("main")),google.script.run.withSuccessHandler(a=>{n.innerHTML="",a.groups.forEach(t=>{const r=document.createElement("option");r.value=t,r.textContent=t,n.appendChild(r)})}).getLoginOptions(),e.addEventListener("submit",a=>{a.preventDefault();const t=n.value;if(!t){o.textContent="Будь ласка, оберіть групу.";return}localStorage.setItem("group",t),render("student")})}const g=Object.assign({"./pages/lecturer.html":b,"./pages/lecturer_login.html":p,"./pages/main.html":h,"./pages/student.html":y,"./pages/student_login.html":f}),I=Object.assign({"./scripts/lecturer.js":_,"./scripts/lecturer_login.js":v,"./scripts/main.js":L,"./scripts/student.js":E,"./scripts/student_login.js":S}),m={};for(const e in g){const n=e.split("/").pop().replace(".html","");m[n]=g[e]}window.render=function(e){const n=m[e]||"<h1>404 Not Found</h1>";document.getElementById("app").innerHTML=n,localStorage.setItem("currentPage",e);const o=I[`./scripts/${e}.js`];typeof o=="function"&&o()};window.addEventListener("DOMContentLoaded",()=>{const e=localStorage.getItem("currentPage")||"main";render(e)});</script>
    <style rel="stylesheet" crossorigin>html{box-sizing:border-box}*,*:before,*:after{margin:0;padding:0;box-sizing:inherit}body{font-family:Inter,sans-serif;font-weight:300;background-color:#fce4c3;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh}h1{font-size:55px;margin-bottom:200px;letter-spacing:5px}.menu{display:flex;flex-direction:row;align-items:center;gap:15px;margin-top:10px}button{background-color:#a64b2a;color:#fff;padding:10px 20px;font-size:25px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s,transform .2s;width:auto;align-self:center}button:hover{background-color:#8a3a1a}button:active{transform:scale(.95)}.button-inactive{background-color:#c9b8aa;color:#fff;border:none;padding:15px 30px;border-radius:8px;font-size:20px;cursor:not-allowed;opacity:.6}.login-form{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}form{display:flex;flex-direction:column;gap:15px;width:250px;max-width:90%}label{font-size:20px;margin-bottom:-10px;color:#333;text-align:left}select{border:none;border-bottom:1px solid #333;background:none;font-size:25px;padding:10px 5px;outline:none;width:100%;color:#333;appearance:none;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-webkit-appearance:none;-moz-appearance:none;cursor:pointer;background-image:url("data:image/svg+xml;utf8,<svg fill='black' height='20' viewBox='0 0 24 24' width='20' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>");background-repeat:no-repeat;background-position:right 10px center;background-size:16px 16px}input{border:none;border-bottom:1px solid #333;background:none;font-size:25px;padding:10px 5px;outline:none;width:100%}input::placeholder{color:#666;font-size:20px}.button-row{display:flex;justify-content:center;gap:60px;width:100%;margin-top:20px}#scheduleTable{width:400px;margin:20px auto;border-collapse:collapse;color:#000}#scheduleTable th,#scheduleTable td{border:1px solid #ccc;padding:10px;text-align:center;vertical-align:middle;font-weight:700}#scheduleTable th{background-color:#ddd}#scheduleTable td.group-cell{font-weight:700;font-size:20px;color:#000}#scheduleTable td.subject-cell{font-size:18px;color:#000}#schdileTable td.subject-cell .teacher-room{font-size:14px;color:#000;margin-top:5px}#scheduleTable td.time-cell{font-size:16px;color:#000}.days-menu{display:flex;justify-content:center;gap:20px;margin:20px 0}.day-button{font-size:14px;padding:6px 12px;border:none;border-radius:6px;background-color:#e0e0e0;cursor:pointer;transition:all .3s ease;transform:scale(1)}.day-button.active{background-color:#4caf50;color:#fff;font-size:16px;transform:scale(1.2)}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
