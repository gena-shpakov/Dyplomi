<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>DYPLOMI SPA</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
      rel="stylesheet"
    />
    <script type="module" crossorigin>(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function i(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=i(e);fetch(e.href,n)}})();const d=`<div class="cotainer">
  <h1 class="title">Викладач</h1>
  <p id="lecturerName"></p>
  <button data-page="main">На головну</button>
</div>
`,u=`<div class="container">
  <h1 class="title">Викладач</h1>
  <form class="login-form" id="teacherForm">
    <input type="text" id="surnameInput" placeholder="Введіть прізвище" />
    <button type="submit">Продовжити</button>
    <div class="error" id="errorMsg"></div>
  </form>
</div>
`,m=`<h1>Розклад</h1>

<div class="menu">
  <button data-page="student_login">Студенту</button>
  <button data-page="lecturer_login">Викладачу</button>
</div>
`,p=`<div class="container">
  <h1>Розклад студента</h1>

  <select id="daySelect">
    <option value="Понеділок">Понеділок</option>
    <option value="Вівторок">Вівторок</option>
    <option value="Середа">Середа</option>
    <option value="Четвер">Четвер</option>
    <option value="Пʼятниця">Пʼятниця</option>
  </select>

  <button id="loadSchedule">Показати розклад</button>

  <table id="scheduleTable" border="1" style="margin-top: 20px; display: none">
    <thead>
      <tr>
        <th>№</th>
        <th>Предмет</th>
        <th>Викладач</th>
        <th>Аудиторія</th>
        <th>Час</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <button data-page="main">На головну</button>
</div>
`,g=`<div class="container">
  <h1>Сторінка для студента</h1>
  <p>Вітаємо, студенте!</p>
  <button data-page="main">На головну</button>
</div>
`;function _(){const t=localStorage.getItem("surname")||"гість";document.getElementById("lecturerName").textContent=`Вітаємо, ${t}!`,document.querySelector('[data-page="main"]').addEventListener("click",()=>render("main"))}function h(){const t=document.getElementById("teacherForm");if(!t)return;const o=["Смагін","Русін","Трембовецька","Сметанін"];t.addEventListener("submit",i=>{i.preventDefault();const r=document.getElementById("surnameInput").value.trim(),e=document.getElementById("errorMsg");r?o.includes(r)?(localStorage.setItem("surname",r),render("lecturer")):e.textContent="Прізвище не знайдено. Спробуйте ще раз":e.textContent="Будь ласка, введіть прізвище."})}function f(){document.querySelectorAll("[data-page]").forEach(t=>{t.addEventListener("click",()=>{const o=t.getAttribute("data-page");window.render(o)})})}function b(){const t=document.getElementById("loadSchedule"),o=document.getElementById("daySelect"),i=document.getElementById("scheduleTable"),r=i.querySelector("tbody");document.querySelector('[data-page="main"]').addEventListener("click",()=>render("main")),t.addEventListener("click",()=>{const e=o.value;google.script.run.withSuccessHandler(n=>{console.log("Received data:",n),r.innerHTML="",!n||n.length===0?r.innerHTML='<tr><td colspan="5">Немає даних</td></tr>':n.forEach(s=>{const c=document.createElement("tr");c.innerHTML=`
                <td>${s[1]}</td>
                <td>${s[2]}</td>
                <td>${s[3]}</td>
                <td>${s[4]}</td>
                <td>${s[5]}</td>
              `,r.appendChild(c)}),i.style.display="table"}).withFailureHandler(n=>{alert("Помилка при завантаженні розкладу: "+n.message)}).getScheduleForDay(e)})}function v(){document.querySelector('[data-page="main"]').addEventListener("click",()=>render("main"))}const l=Object.assign({"./pages/lecturer.html":d,"./pages/lecturer_login.html":u,"./pages/main.html":m,"./pages/student.html":p,"./pages/student_login.html":g}),y=Object.assign({"./scripts/lecturer.js":_,"./scripts/lecturer_login.js":h,"./scripts/main.js":f,"./scripts/student.js":b,"./scripts/student_login.js":v}),a={};for(const t in l){const o=t.split("/").pop().replace(".html","");a[o]=l[t]}window.render=function(t){const o=a[t]||"<h1>404 Not Found</h1>";document.getElementById("app").innerHTML=o,localStorage.setItem("currentPage",t);const i=y[`./scripts/${t}.js`];typeof i=="function"&&i()};window.addEventListener("DOMContentLoaded",()=>{const t=localStorage.getItem("currentPage")||"main";render(t)});</script>
    <style rel="stylesheet" crossorigin>body{font-family:Inter,sans-serif;background-color:#fce4c3;margin:0;padding:0;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh}h1{font-size:2rem;margin-bottom:1rem}button{padding:10px 20px;font-size:1rem;border:none;border-radius:5px;background-color:#f8b85f;color:#fff;cursor:pointer;transition:.3s}button:hover{background-color:#c9944a}.login-form{display:flex;flex-direction:column;gap:10px;width:300px}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
